WH.mediumScreenMinWidth=728;WH.largeScreenMinWidth=975;
WH.shared=function(){function z(a){r.push(a)}function t(a,b){var c=null,e=0,d=function(){e=0;c=null;a.apply()};return function(){var g=G(),f=b-(g-e);0>=f||f>b?(c&&(clearTimeout(c),c=null),e=g,a.apply()):c||(c=setTimeout(d,f))}}function p(){var a=!1,b=window.innerHeight||document.documentElement.clientHeight,c;for(c in f){var e=f[c];if(0!=e.useScrollLoader&&!e.isLoaded){a=e;var d=a.element.getBoundingClientRect(),g={top:d.top,bottom:d.bottom};0==a.lastTop-d.top&&window.scrollY!=a.lastY&&(g.top-=window.scrollY,
g.bottom-=window.scrollY);a.lastTop=d.top;a.lastY=window.scrollY;a=g;d=b;g=52;var h=2*d;g-=h;d+=h;(0==a.top&&0==a.bottom?0:a.top>=g&&a.top<=d||a.bottom>=g&&a.bottom<=d||a.top<=g&&a.bottom>=d)&&e.load();a=!0}}!a&&f.length&&(window.removeEventListener("scroll",k),k=null)}function u(a){if(a&&a.element)if(document.addEventListener&&a.finishedLoadingEvent){a.alt&&(a.element.alt=a.alt);a.loaderRemoved=!1;var b=document.createElement("div");b.className="loader";for(var c=0;3>c;c++){var e=document.createElement("div");
e.className="loader-dot";b.appendChild(e)}var d=document.createElement("div");d.className="loading-container";d.appendChild(b);a.element.parentElement.insertAdjacentElement("afterbegin",d);a.element.addEventListener(a.finishedLoadingEvent,function(){a.loadedCallback&&a.loadedCallback();0==a.loaderRemoved&&(this.parentElement.removeChild(d),a.loaderRemoved=!0,"undefined"!==typeof a.element.classList&&a.element.classList.remove("img-loading-hide"))})}else"undefined"!==typeof a.element.classList&&a.element.classList.remove("img-loading-hide")}
function v(a){this.lastTop=a.getBoundingClientRect().top;this.lastY=window.scrollY;this.isVisible=this.isLoaded=!1;this.element=a;this.load=function(){}}function w(a){if(!a)return"";if(!m)return a;var b=a.split(".").pop();"jpg"!==b&&"png"!==b||!a.match(/images(_[a-z]{2})?\/thumb\//)||a.match(/(\.[a-zA-Z]+){2}$/)||(a+=".webp");return a}function H(a){v.call(this,a);this.src=a.getAttribute("data-src");this.load=function(){this.element.setAttribute("src",this.src);this.isLoaded=!0}}function I(a){v.call(this,
a);this.alt=a.alt;a.alt="";this.finishedLoadingEvent="load";this.src=a.getAttribute("data-src");if(x){var b=a.getAttribute("data-srclarge");null!=b&&(this.src=b)}this.src=w(this.src);a&&void 0!==a.classList&&a.classList.add("img-loading-hide");this.load=function(){this.element.setAttribute("src",this.src);this.isLoaded=!0;u(this)}}function J(a){v.call(this,a);this.finishedLoadingEvent="loadeddata";this.isPlaying=!1;this.src="https://www.wikihow.com/video"+this.element.getAttribute("data-src");this.poster=
this.element.getAttribute("data-poster");(this.poster=w(this.poster))&&"jpg"==this.poster.split(".").pop()&&m&&(this.poster+=".webp");this.noAutoplay=this.element.getAttribute("data-noautoplay");this.play=function(){this.element.play();this.isPlaying=!0};this.pause=function(){this.element.pause();this.isPlaying=!1};this.load=function(){this.element.setAttribute("poster",this.poster);!A||this.noAutoplay||!x&&!0!==window.wgIsMainPage?this.finishedLoadingEvent=null:(this.element.setAttribute("src",this.src),
this.play());this.isLoaded=!0;this.noAutoplay||u(this)}}function y(a){var b=document.getElementById(a);if(b)if(m||B){var c=null==l?!1:!0;if("img"===b.nodeName.toLowerCase())if(a=new I(b),c)a.useScrollLoader=!1,l.observe(a.element);else{if(1==q){a.useScrollLoader=!1;var e=a;e.element.classList.remove("img-loading-hide");e.element.setAttribute("loading","lazy");e.load()}}else if("video"===b.nodeName.toLowerCase())a=new J(b),c&&(a.useScrollLoader=!1,l.observe(a.element));else if("iframe"===b.nodeName.toLowerCase())a=
new H(b),c&&(a.useScrollLoader=!1,l.observe(a.element));else return;a&&(f[a.element.id]=a);e=b.getAttribute("data-width")||b.getAttribute("width");var d=b.getAttribute("data-height")||b.getAttribute("height");0<e&&(b.parentElement.style.paddingTop=d/e*100+"%");c||p();C?a.load():k||c||(k=t(p,500),window.addEventListener("scroll",k))}else D.push(a)}var r=[],f={},D=[],C=!1,G=Date.now||function(){return(new Date).getTime()},h=navigator.userAgent,m=h.match(/Linux/)&&h.match(/Android/)||h.match(/Opera/)||
h.match(/Chrome/)&&!h.match(/Edge/),B=!1,n=window.innerWidth||document.documentElement.clientWidth;h=n<WH.mediumScreenMinWidth;n=!h&&n<WH.largeScreenMinWidth;var E=!h&&!n,x=E,q=!1,F="0px 0px 100% 0px",l=null;(function(a){var b=new Image;b.onload=function(){a(0<b.width&&0<b.height)};b.onerror=function(){a(!1)};b.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"})(function(a){m=a;B=!0;D.forEach(function(a){y(a)})});"loading"in HTMLImageElement.prototype&&(q=!0);1==
WH.jsFastRender&&(q=!1,F="0px 0px 0px 0px");0==q&&"IntersectionObserver"in window&&(l=new IntersectionObserver(function(a,b){a.forEach(function(a){a.isIntersecting&&(f[a.target.id].load(),l.unobserve(a.target))})},{rootMargin:F}));window.onresize=function(){r.forEach&&r.forEach(function(a){a()})};z(p);var A=function(){var a=window.document.createElement("video");a.setAttribute("muted","");a.setAttribute("playsinline","");a.setAttribute("webkit-playsinline","");a.muted=!0;a.playsinline=!0;a.webkitPlaysinline=
!0;a.setAttribute("height","0");a.setAttribute("width","0");a.style.position="fixed";a.style.top=0;a.style.width=0;a.style.height=0;a.style.opacity=0;try{var b=a.play();b&&b.catch&&b.then(function(){}).catch(function(){})}catch(c){}return!a.paused}();var k=t(p,500);window.addEventListener?window.addEventListener("scroll",k):C=!0;return{isDesktopSize:x,isSmallSize:h,isMedSize:n,isLargeSize:E,getScreenSize:function(){var a=document;var b=a.documentElement,c=a.body,e=c&&c.clientWidth,d=0;!b||!b.clientWidth||
"CSS1Compat"!==a.compatMode&&e?e&&(d=c.clientWidth):d=b.clientWidth;a=d;return 0==a||a>=WH.largeScreenMinWidth?"large":a>=WH.mediumScreenMinWidth?"medium":"small"},throttle:t,TOP_MENU_HEIGHT:52,autoPlayVideo:A,webpSupport:m,addScrollLoadItem:y,addScrollLoadItemByElement:function(a){var b=a.id;b||(b="id-"+Math.random().toString(36).substr(2,16));a.id=b;y(b)},videoRoot:"https://www.wikihow.com/video",setupLoader:u,addResizeFunction:z,loadAllImages:function(){for(var a in f){var b=f[a];b.isLoaded||b.load()}},
loadAllEmbed:function(){for(var a in f){var b=f[a];b.isLoaded||"iframe"==b.element.nodeName.toLowerCase()&&b.load()}},addLoadedCallback:function(a,b){f[a].loadedCallback=b},showVideoPlay:function(a){a=a.element.parentElement.getElementsByClassName("m-video-intro-over");"undefined"!==typeof a&&(a=a[0]);a&&(a.style.visibility="visible")},getCompressedImageSrc:w}}();
