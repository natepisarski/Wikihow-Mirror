window.a=window.a||{};
window.a.f=function(){function G(){if(location.href.match(/\bm\./))return 1;var b=H().split("x")[0];return"undefined"!=typeof h.largeScreenMinWidth&&b&&parseInt(b,10)<h.largeScreenMinWidth?1:0}function p(){var b=I;if(k){var c=+new Date-k;0<c&&(b+=c)}return b}function J(b){if("undefined"!==typeof b&&"undefined"!==typeof b.target&&"undefined"!==typeof b.target.getAttribute&&(b=b.target.getAttribute("id"),"undefined"!==typeof b&&0!==b.indexOf("whvid-player")))return;K||(K=!0,l&&6>=l||(b=q({d:y?G()?"vm":
"vw":"pv",m:h.pageName+" btraw "+p()/1E3,b:"6"}),delete b.dl,r("exit",b,!1)))}function L(){k&&(I+=+new Date-k,k=!1)}function M(){k||(k=+new Date)}function N(){var b=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(b){var c=1E6,f=0;Array.prototype.forEach.call(b,function(b){var d=b;for(var e=0;d;)e+=d.offsetTop-d.clientTop,d=d.offsetParent;d=e;b=b.offsetHeight||b.clientHeight;c=Math.min(d,c);f=Math.max(d+b,f)});n=c;z=f}}function X(){var b=!1;try{var c=Object.defineProperty({},
"passive",{get:function(){b=!0}});window.addEventListener("testPassive",null,c);window.removeEventListener("testPassive",null,c)}catch(f){}window.addEventListener("scroll",function(){g++;if(-1!=t){var b=+new Date-u;b>=t+250&&(t=b,N())}var c=p();b=c-O;O=c;if(!(0>=b)){var d=window.scrollY||window.pageYOffset;c=d+(window.innerHeight||document.documentElement.clientHeight);if(!(d>z||c<n)){var e=z-n;if(!(0>=e))for(d=Math.floor(128*(1*d-n)/e),0>d&&(d=0),c=Math.ceil(128*(1*c-n)/e),127<c&&(c=127),e=d;e<=
c;)"undefined"===typeof v[e]&&(v[e]=0),v[e]+=b,e++}}});window.addEventListener("resize",function(){g++});window.addEventListener("click",function(){g++});c=b?{passive:!0}:!1;window.addEventListener("touchstart",function(){g++},c);window.addEventListener("touchend",function(){g++});window.addEventListener("touchcancel",function(){g++});window.addEventListener("touchmove",function(){g++},c);document.addEventListener("keydown",function(){g++});document.addEventListener("keyup",function(){g++});document.addEventListener("keypress",
function(){g++});setInterval(function(){t=-1;N();0<g&&(P++,g=0);var b=p();b>Q&&(Q=b,R<A&&R++)},3E3)}function r(b,c,f){var g="",d=!0,e;for(e in c)c.hasOwnProperty(e)&&(g+=(d?"":"&")+e+"="+encodeURIComponent(c[e]),d=!1);c=new XMLHttpRequest;c.open("GET",(B?"/x/collect.php":"/x/collect")+"?t="+b+"&"+g,f);c.send()}function S(){function b(){var b={ti:w[m].t};if(0===m){a:{try{var c=window.navigator,d=document,e=window.screen;b=T(b,{de:d&&(d.characterSet||d.charset),ul:(c&&(c.language||c.browserLanguage)||
"").toLowerCase(),sd:e&&e.colorDepth+"-bit",sr:e&&e.width+"x"+e.height,vp:H(),pr:"undefined"!=typeof window.devicePixelRatio?window.devicePixelRatio:0});var g=q(b);break a}catch(Z){}g={}}r("first",g,!0)}else r("later",q(b),!0);m++;m<w.length&&S()}var c=+new Date;m<w.length&&(c=u+1E3*w[m].t-c,0>=c?b():setTimeout(b,c))}function T(b,c){for(var f in c)c.hasOwnProperty(f)&&"undefined"==typeof b[f]&&(b[f]=c[f]);return b}function H(){var b=document,c=b.documentElement,f=b.body,g=f&&f.clientWidth&&f.clientHeight,
d=[];c&&c.clientWidth&&c.clientHeight&&("CSS1Compat"===b.compatMode||!g)?d=[c.clientWidth,c.clientHeight]:g&&(d=[f.clientWidth,f.clientHeight]);return c=0>=d[0]||0>=d[1]?"":d.join("x")}function q(b){var c=Y();250>c&&(c=1500);var f={gg:y,to:Math.round((+new Date-u)/1E3),ac:Math.round(p()/1E3),pg:h.pageID,ns:h.pageNamespace,ra:U,cv:V,cl:C,cm:G(),dl:location.href,b:"6"};f=T(b,f);0===h.pageNamespace&&(D=c/1500*180,A=D/3,b=Math.round(100*P/A),0>b&&(b=0),100<b&&(b=100),f.a1=Math.round(b));return f}function Y(){var b=
document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(!b)return 0;var c=0;Array.prototype.forEach.call(b,function(b){b=b.textContent.split(/\s/).filter(function(b){return""!==b}).length;c+=b});return c}var h=window.WH,V=h.stuCount,C=h.pageLang,B=!!location.href.match(/\.wikidogs\.com/),E=V&&"en"==C||B,x=location.href.match(/\.wikihow\.[a-z]+\//)&&"en"==C||B,u=!1,k=!1,I=0,y=0,K=!1,U,l=!1,m=0,D=180,A=D/3,R=0,P=0,g=0,Q=0,v=[],t=0,n=0,z=0,O=0,W=null,F=[],w=[{t:1},{t:10},{t:20},
{t:30},{t:45},{t:60},{t:90},{t:120},{t:180},{t:240},{t:300},{t:360},{t:420},{t:480},{t:540},{t:600}];return{start:function(){if("undefined"==typeof window.a.c||!window.a.c){window.a.c=!0;var b=navigator.userAgent.match(/MSIE (\d+)/);b&&(l=b[1]);b="";for(var c=0;12>c;c++)b+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));U=b;y=("string"===typeof document.referrer?document.referrer:"").match(/^[a-z]*:\/\/[^\/]*google/i)?1:0;k=u="number"==typeof h.timeStart&&0<h.timeStart?
h.timeStart:+new Date;"visibilityState"in document&&"hidden"==document.visibilityState&&(k=!1);x&&S();l&&7<=l&&9>=l?(document.onfocusin=M,document.onfocusout=L):(window.onfocus=M,window.onblur=L);if(E||x)window.onunload=J,window.onbeforeunload=J;(E||x)&&X()}},ping:function(b){(E||x)&&r("event",q(b),!0)},registerDebug:function(b){if("function"!=typeof b)console.log("registerDebug: must be a function");else{W=b;for(b=0;b<F.length;b++)W(F[b]);F=[]}}}}();window.a.f.start();
