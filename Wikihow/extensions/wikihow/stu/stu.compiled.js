window.WH=window.WH||{};
window.WH.Stu=function(){function I(a,b){var c=new XMLHttpRequest;c.open("GET",a,b);c.send()}function m(){var a=J;if(e){var b=+new Date-e;0<b&&(a+=b)}return a}function K(a){if("undefined"!==typeof a&&"undefined"!==typeof a.target&&"undefined"!==typeof a.target.getAttribute&&(a=a.target.getAttribute("id"),"undefined"!==typeof a&&0!==a.indexOf("whvid-player")))return;if(!(L||(L=!0,k&&6>=k))){a=x?location.href.match(/\bm\./i)?"vm":"vw":"pv";var b=h.pageName+" btraw "+m()/1E3,c=r({});delete c.dl;var f=
(y?"/x/devstu":"/Special:Stu")+"?v=6";f+="&"+z({d:a,m:b,b:"6"})+"&"+z(c);I(f,!1)}}function M(){e&&(J+=+new Date-e,e=!1)}function N(){e||(e=+new Date)}function O(){var a=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(a){var b=1E6,c=0;Array.prototype.forEach.call(a,function(a){var f=a;for(var d=0;f;)d+=f.offsetTop-f.clientTop,f=f.offsetParent;f=d;a=a.offsetHeight||a.clientHeight;b=Math.min(f,b);c=Math.max(f+a,c)});l=b;A=c}}function Y(){var a=!1;try{var b=Object.defineProperty({},
"passive",{get:function(){a=!0}});window.addEventListener("testPassive",null,b);window.removeEventListener("testPassive",null,b)}catch(c){}window.addEventListener("scroll",function(){g++;if(-1!=t){var a=+new Date-u;a>=t+250&&(t=a,O())}var b=m();a=b-P;P=b;if(!(0>=a)){var n=window.scrollY||window.pageYOffset;b=n+(window.innerHeight||document.documentElement.clientHeight);if(!(n>A||b<l)){var d=A-l;if(!(0>=d))for(n=Math.floor(128*(1*n-l)/d),0>n&&(n=0),b=Math.ceil(128*(1*b-l)/d),127<b&&(b=127),d=n;d<=
b;)"undefined"===typeof v[d]&&(v[d]=0),v[d]+=a,d++}}});window.addEventListener("resize",function(){g++});window.addEventListener("click",function(){g++});b=a?{passive:!0}:!1;window.addEventListener("touchstart",function(){g++},b);window.addEventListener("touchend",function(){g++});window.addEventListener("touchcancel",function(){g++});window.addEventListener("touchmove",function(){g++},b);document.addEventListener("keydown",function(){g++});document.addEventListener("keyup",function(){g++});document.addEventListener("keypress",
function(){g++});setInterval(function(){t=-1;O();0<g&&(Q++,g=0);var a=m();a>R&&(R=a,S<B&&S++)},3E3)}function C(a,b){a="/x/collect?t="+a+"&"+z(b);I(a,!0)}function T(){function a(){var a={ti:w[p].t};if(0===p){a:{try{var b=window.navigator,g=document,d=window.screen,h=document,e=h.documentElement,k=h.body,l=k&&k.clientWidth&&k.clientHeight,q=[];e&&e.clientWidth&&e.clientHeight&&("CSS1Compat"===h.compatMode||!l)?q=[e.clientWidth,e.clientHeight]:l&&(q=[k.clientWidth,k.clientHeight]);e=0>=q[0]||0>=q[1]?
"":q.join("x");a=U(a,{de:g&&(g.characterSet||g.charset),ul:(b&&(b.language||b.browserLanguage)||"").toLowerCase(),sd:d&&d.colorDepth+"-bit",sr:d&&d.width+"x"+d.height,vp:e,pr:"undefined"!=typeof window.devicePixelRatio?window.devicePixelRatio:0});var m=r(a);break a}catch(ba){}m={}}C("first",m)}else C("later",r(a));p++;p<w.length&&T()}var b=+new Date;p<w.length&&(b=u+1E3*w[p].t-b,0>=b?a():setTimeout(a,b))}function U(a,b){for(var c in b)b.hasOwnProperty(c)&&"undefined"==typeof a[c]&&(a[c]=b[c]);return a}
function r(a){var b=Z();250>b&&(b=1500);var c={gg:x,to:Math.round((+new Date-u)/1E3),ac:Math.round(m()/1E3),pg:h.pageID,ns:h.pageNamespace,ra:V,cv:W,cl:D,cm:aa,dl:location.href,b:"6"};c=U(a,c);0===h.pageNamespace&&(E=b/1500*180,B=E/3,a=Math.round(100*Q/B),0>a&&(a=0),100<a&&(a=100),c.a1=Math.round(a));return c}function z(a){var b="",c=!0,f;for(f in a)a.hasOwnProperty(f)&&(b+=(c?"":"&")+f+"="+encodeURIComponent(a[f]),c=!1);return b}function Z(){var a=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");
if(!a)return 0;var b=0;Array.prototype.forEach.call(a,function(a){a=a.textContent.split(/\s/).filter(function(a){return""!==a}).length;b+=a});return b}var h=window.WH,W=h.stuCount,D=h.pageLang,aa=h.isMobile,y=!!location.href.match(/\.wikidogs\.com/),F=W&&"en"==D||y,G=location.href.match(/\.wikihow\.[a-z]+\//)&&"en"==D||y,u=!1,e=!1,J=0,x=0,L=!1,V,k=!1,p=0,E=180,B=E/3,S=0,Q=0,g=0,R=0,v=[],t=0,l=0,A=0,P=0,X=null,H=[],w=[{t:1},{t:10},{t:20},{t:30},{t:45},{t:60},{t:90},{t:120},{t:180},{t:240},{t:300},
{t:360},{t:420},{t:480},{t:540},{t:600}];return{start:function(){var a=navigator.userAgent.match(/MSIE (\d+)/);a&&(k=a[1]);a="";for(var b=0;12>b;b++)a+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));V=a;x=("string"===typeof document.referrer?document.referrer:"").match(/^[a-z]*:\/\/[^\/]*google/i)?1:0;e=u="number"==typeof h.timeStart&&0<h.timeStart?h.timeStart:+new Date;"visibilityState"in document&&"hidden"==document.visibilityState&&(e=!1);G&&T();k&&7<=k&&9>=k?(document.onfocusin=
N,document.onfocusout=M):(window.onfocus=N,window.onblur=M);F&&(window.onunload=K,window.onbeforeunload=K);(F||G)&&Y()},ping:function(a){(F||G)&&C("event",r(a))},registerDebug:function(a){if("function"!=typeof a)console.log("registerDebug: must be a function");else{X=a;for(a=0;a<H.length;a++)X(H[a]);H=[]}}}}();window.WH.Stu.start();
